targetTemplates:
  Application:
    type: application
    platform: iOS
    supportedDestinations: [iOS]
    attributes:
      ProvisioningStyle: Automatic
    settings:
      SDKROOT: iphoneos
      TARGETED_DEVICE_FAMILY: 1
    dependencies:
      - package: Alamofire
    preBuildScripts:
      - name: "SwiftGen"
        basedOnDependencyAnalysis: no
        script: |
          ./.scripts/swiftgen.sh
      - name: "GenerateParams"
        basedOnDependencyAnalysis: no
        script: |
          GenerateSwiftFromJson/run \
          --json-input /Users/tomaszkukulka/Developer/AirQuality/AirQuality/Assets/ParamsInfo.json \
          --stencil-template /Users/tomaszkukulka/Developer/AirQuality/.stencil-templates/generate-params.stencil \
          --swift-output /Users/tomaszkukulka/Developer/AirQuality/AirQuality/Assets/Params.swift
    postbuildScripts:
      - name: "Swiftlint"
        basedOnDependencyAnalysis: no
        script: |
          ./.scripts/swiftlint.sh


targets:
  AirQuality:
    templates: 
      - Application
    sources: 
      - ../AirQuality
    excludes:
      - AirQuality/Assets/ParamsInfo.json
    
  AirQualityTests:
    type: bundle.unit-test
    platform: iOS
    supportedDestinations: [iOS]
    sources:
      - ../AirQualityTests
    dependencies:
      - target: AirQuality
    postbuildScripts:
      - name: "Swiftlint"
